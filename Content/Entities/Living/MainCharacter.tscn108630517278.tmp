[gd_scene format=3 uid="uid://djt8rtyr4npak"]

[ext_resource type="PackedScene" uid="uid://cdj2n00klmmxt" path="res://Common/Abstract/Entity.tscn" id="1_xeif3"]
[ext_resource type="Script" uid="uid://ca33cwcfauy5u" path="res://Content/Entities/Living/main_character.gd" id="2_ydgqx"]
[ext_resource type="PackedScene" uid="uid://nxhg3s2xo16r" path="res://Common/Abstract/Collision.tscn" id="3_4wc7f"]
[ext_resource type="PackedScene" uid="uid://wcq0ucwl4on2" path="res://Common/Abstract/EntitySprite.tscn" id="4_ydgqx"]
[ext_resource type="Texture2D" uid="uid://4qlgtxvu5krv" path="res://Assets/Textures/MC.png" id="5_4wc7f"]
[ext_resource type="Script" uid="uid://ca0m1b751ntd2" path="res://Content/Entities/Living/mc_state_jumping.gd" id="7_debbp"]
[ext_resource type="PackedScene" uid="uid://b4frkppndqmlu" path="res://Common/Abstract/State.tscn" id="7_qpbr5"]
[ext_resource type="Script" uid="uid://bodq1ep1ahhpv" path="res://Content/Entities/Living/mc_state_grounded.gd" id="8_debbp"]
[ext_resource type="PackedScene" uid="uid://bbtd6g42nymhl" path="res://Common/Abstract/BodyShapeCast.tscn" id="9_2e0vt"]

[sub_resource type="AtlasTexture" id="AtlasTexture_ydgqx"]
atlas = ExtResource("5_4wc7f")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qpbr5"]
atlas = ExtResource("5_4wc7f")
region = Rect2(0, 96, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_debbp"]
resource_local_to_scene = true
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ydgqx")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_qpbr5")
}],
"loop": true,
"name": &"IdleUp",
"speed": 5.0
}, {
"frames": [],
"loop": true,
"name": &"MidAir",
"speed": 5.0
}, {
"frames": [],
"loop": true,
"name": &"Walk",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ydgqx"]
size = Vector2(16, 24)

[sub_resource type="CircleShape2D" id="CircleShape2D_qpbr5"]
radius = 8.0

[sub_resource type="SeparationRayShape2D" id="SeparationRayShape2D_7cco8"]
length = 4.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2wrr6"]
size = Vector2(16, 5)

[node name="Entity" unique_id=228107323 node_paths=PackedStringArray("entitySprite", "body") instance=ExtResource("1_xeif3")]
script = ExtResource("2_ydgqx")
entitySprite = NodePath("EntitySprite")
body = NodePath("Collision")

[node name="EntitySprite" parent="." index="0" unique_id=1272832984 instance=ExtResource("4_ydgqx")]
sprite_frames = SubResource("SpriteFrames_debbp")
autoplay = "Idle"

[node name="Collision" parent="." index="1" unique_id=2092463269 instance=ExtResource("3_4wc7f")]
collision_layer = 1
collision_mask = 3

[node name="BodyColShape" type="CollisionShape2D" parent="Collision" index="0" unique_id=869595329]
position = Vector2(0, 4)
shape = SubResource("RectangleShape2D_ydgqx")

[node name="HeadColShape" type="CollisionShape2D" parent="Collision" index="1" unique_id=1400837392]
position = Vector2(0, -8)
shape = SubResource("CircleShape2D_qpbr5")

[node name="StateMachine" parent="." index="2" unique_id=453758574 node_paths=PackedStringArray("starting_state")]
starting_state = NodePath("Grounded")

[node name="Jumping" parent="StateMachine" index="0" unique_id=1066932445 instance=ExtResource("7_qpbr5")]
script = ExtResource("7_debbp")

[node name="Grounded" parent="StateMachine" index="1" unique_id=952328017 instance=ExtResource("7_qpbr5")]
script = ExtResource("8_debbp")

[node name="CeilingCast" parent="." index="3" unique_id=1351738515 node_paths=PackedStringArray("entity") instance=ExtResource("9_2e0vt")]
position = Vector2(0, -16)
rotation = 3.1414135
shape = SubResource("SeparationRayShape2D_7cco8")
entity = NodePath("..")

[node name="FloorCast" parent="." index="4" unique_id=1568091729 node_paths=PackedStringArray("entity") instance=ExtResource("9_2e0vt")]
position = Vector2(0, 16)
shape = SubResource("RectangleShape2D_2wrr6")
entity = NodePath("..")
